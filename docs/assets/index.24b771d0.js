var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,a=(e,a)=>{for(var c in a||(a={}))r.call(a,c)&&l(e,c,a[c]);if(t)for(var c of t(a))n.call(a,c)&&l(e,c,a[c]);return e};import{s as c,r as o,R as s,u as i,a as m}from"./vendor.345410c1.js";const p=c.createFFmpeg({log:!0});function u(e){const[t,r]=o.exports.useState(!1),[n,l]=o.exports.useState(""),[a,i]=o.exports.useState();o.exports.useEffect((()=>{(async()=>{await p.load(),r(!0)})(),l(e.file)}),[]);return t?s.createElement("div",{className:"App"},n&&s.createElement("video",{controls:!0,width:"250",src:URL.createObjectURL(n)}),s.createElement("h3",null,"Result"),s.createElement("button",{onClick:async()=>{console.log(n),p.FS("writeFile","test.mp4",await c.fetchFile(n)),await p.run("-i","test.mp4","-t","2.5","-ss","2.0","-f","gif","out.gif");const e=p.FS("readFile","out.gif"),t=URL.createObjectURL(new Blob([e.buffer],{type:"image/gif"}));i(t)}},"Convert"),a&&s.createElement("img",{src:a,width:"250"})):s.createElement("p",null,"Loading...")}function f(){const{acceptedFiles:e,getRootProps:t,getInputProps:r}=i({});return s.createElement("section",{className:"container"},s.createElement("div",a({},t({className:"dropzone"})),s.createElement("input",a({},r())),s.createElement("p",null,"Drag 'n' drop some files here, or click to select files"),s.createElement("em",null,"(Only *.jpeg and *.png images will be accepted)")),s.createElement("aside",null),e.map((e=>s.createElement(u,{file:e}))))}function d(){return s.createElement("div",{className:"App"},s.createElement(f,null))}m.render(s.createElement(s.StrictMode,null,s.createElement(d,null)),document.getElementById("root"));
